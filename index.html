<!DOCTYPE html>
<html>

<head>
  <meta charset=utf-8 />
  <title>videojs-contrib-hls embed</title>

  <!--
  Uses the latest versions of video.js and videojs-contrib-hls.
  To use specific versions, please change the URLs to the form:
  <link href="https://unpkg.com/video.js@5.16.0/dist/video-js.css" rel="stylesheet">
  <script src="https://unpkg.com/video.js@5.16.0/dist/video.js"></script>
  <script src="https://unpkg.com/videojs-contrib-hls@4.1.1/dist/videojs-contrib-hls.js"></script>
  -->
  <script src="https://github.com/videojs/mux.js/releases/latest/download/mux.js"></script>

  <link href="https://vjs.zencdn.net/7.11.4/video-js.css" rel="stylesheet" />
  <script src="https://vjs.zencdn.net/7.11.4/video.min.js"></script>
  <script src="https://unpkg.com/videojs-contrib-hls/dist/videojs-contrib-hls.js"></script>

</head>

<body>
  <h1>Video.js Example Embed</h1>

  <video-js id="my_video_1" class="vjs-default-skin vjs-16-9" controls preload="auto" width="136">
    <source
      src="https://entri-videos.s3.ap-south-1.amazonaws.com/media/ml/jaseem/2021-06-15/hls_test_2/output/whiteboard.m3u8"
      type="application/x-mpegURL">
  </video-js>


  <script>
    // videojs.Hls.xhr.beforeRequest = function (options) {
    //   /*
    //    * Modifications to requests that will affect every player.
    //    */
    //   if (options.uri.includes('key')) {
    //     options.uri = "https://entri-videos.s3.ap-south-1.amazonaws.com/hls_testing/key/key.bin"
    //   }
    //   return options;
    // };
    var player = videojs('my_video_1', {
      html5: {
        hls: {
          overrideNative: false,
          withCredentials: false,
          handleManifestRedirects: true
        }
      }
    });
  </script>

</body>

</html>   